#!/usr/bin/env python# -*- coding:utf-8 -*-# @Time : 2024/12/6# @Author : cyq# @File : io_sender# @Software: PyCharm# @Desc:from typing import Anyfrom utils import GenerateTools, MyLogurufrom app.ws import async_iolog = MyLoguru().get_logger()class APISocketSender:    def __init__(self, uid: str = None):        self.logs = []        self.uid = uid    async def send(self, msg: str):        try:            msg = f"{GenerateTools.getTime(1)} ðŸš€ ðŸš€  {msg}"            log.info(msg)            self.logs.append(msg + "\n")            await async_io.log_emit(msg, uid=self.uid)        except Exception as e:            log.error(e)    async def push(self, data: Any):        try:            log.info(data)            await async_io.data_emit(data, uid=self.uid)        except Exception as e:            log.error(e)    async def over(self, reportId: int = None):        return await async_io.log_emit_over(rId=reportId, uid=self.uid)    async def clear_logs(self):        self.logs = []