#!/usr/bin/env python# -*- coding:utf-8 -*-# @Time : 2024/6/6# @Author : cyq# @File : _trigger# @Software: PyCharm# @Desc:from datetime import datetime, timedeltafrom enum import StrEnumfrom typing import Optionalfrom apscheduler.triggers.cron import CronTriggerfrom apscheduler.triggers.interval import IntervalTriggerfrom apscheduler.triggers.date import DateTriggerclass TriggerType(StrEnum):    Once = "once"  # 单次执行    Cron = "cron"  # 定时执行    FixedRate = "fixedRate"  # 固定频率class Trigger(CronTrigger):    def __init__(self, cron: str):        values = cron.strip().split()        super().__init__(minute=values[0],                         hour=values[1],                         day=values[2],                         month=values[3],                         day_of_week=values[4], )    @property    def next_runtime(self) -> "datetime":        now = datetime.now()        _t = self.get_next_fire_time(now, now)        return _t.strftime("%Y-%m-%d %H:%M:%S")if __name__ == '__main__':    interval = Trigger1(trigger_type=TriggerType.FixedRate, seconds=5)    cron = Trigger1(trigger_type=TriggerType.Cron, cron="* * * * *")    run_time = datetime.now() + timedelta(minutes=5)    print(run_time)    datet = Trigger1(trigger_type=TriggerType.Once, run_date=run_time)    print(datet.next_runtime)