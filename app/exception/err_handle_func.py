#!/usr/bin/env python# -*- coding:utf-8 -*-# @Time : 2024/6/7# @Author : cyq# @File : _error_handler# @Software: PyCharm# @Desc:from fastapi import statusfrom fastapi.responses import JSONResponsefrom fastapi.encoders import jsonable_encoderfrom sqlalchemy.exc import SQLAlchemyErrorfrom enums import HttpCodeEnumclass ParamsError(ValueError):    """    参数错误    """    ...class UIRuntimeError(Exception):    """    运行时异常    """    ...class DBError(Exception):    """    db 查询自定义    """    @staticmethod    def add_raise(msg: str):        return JSONResponse(            status_code=status.HTTP_200_OK,            content=jsonable_encoder({                "code": HttpCodeEnum.DB_VALIDA_ERROR,                "data": None,                "msg": msg            }))class SQLAlchemyErrorHandler(SQLAlchemyError):    """    sqlalchemy 异常    """    @staticmethod    def add_raise():        return JSONResponse(            status_code=status.HTTP_200_OK,            content=jsonable_encoder({                "code": HttpCodeEnum.DB_VALIDA_ERROR,                "data": None,                "msg": "db执行异常"            }))