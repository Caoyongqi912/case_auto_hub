`await session.flush()`- 会将session中的数据刷到数据库中，使数据库主键自增,但不写到磁盘里- 别的session查询时并不会查到flush的数据`session.expunge(instance)`从此“会话”中删除“实例”。这将释放对实例的所有内部引用。级联将根据删除级联规则应用。并且在后续的 flush 或 commit 操作中也不会被同步到数据库### relationship- lazy    - select 问到属性的时候，就会全部加载该属性的数据    - joined 对关联的两个表使用联接    - subquery 与joined类似，但使用子子查询    - dynamic 懒加载 加载记录的查询，也就是生成query对象- cascade  参数控制了在父对象或子对象发生变化时，如何自动处理与之相关联的对象。它定义了级联操作的行为，类似于外键约束中的 ondelete 或 onupdate，但它是针对 ORM 层面的对象之间的关系。  - save-update 该选项表示当父对象被保存或更新时，子对象也会被自动保存或更新。这是默认行为，意味着当父对象保存或更新时，SQLAlchemy 会检查并保存与之关联的子对象。  - merge 该选项表示在合并（merge）一个对象时，子对象也会被合并。通常用于 ORM 的 session.merge() 操作，在合并父对象时，SQLAlchemy 会同步更新其关联的子对象。  - delete 该选项表示当父对象被删除时，子对象也会被自动删除。  - delete-orphan 该选项表示当父对象被删除时，子对象也会被自动删除，但前提是该对象没有其他关联对象。  - all 该选项表示当父对象被删除时，子对象也会被自动删除，无论子对象是否有其他关联对象。```pythonclass User(Base):  __tablename__ = 'users'  id = Column(Integer, primary_key=True)  name = Column(String)  addresses = relationship("Address", cascade="all, delete-orphan")class Address(Base):  __tablename__ = 'addresses'  id = Column(Integer, primary_key=True)  email = Column(String)  user_id = Column(Integer, ForeignKey("users.id"))#当添加一个新的 Address 到 User 的 addresses 列表时，Address 会自动被保存。#如果你 addresses 列表中删除一个 Address，并且它不再有其他父对象引用它，则该 Address 会被自动删除。#常见 cascade 配置汇总#cascade="save-update": 仅当父对象保存或更新时，子对象才会保存或更新。#cascade="delete": 删除父对象时，所有子对象都会被删除。#cascade="delete-orphan": 如果子对象不再与父对象关联，它会被自动删除。#cascade="all": 包含 save-update、merge、delete 和 delete-orphan。#cascade="all, delete-orphan": 包含 all 和 delete-orphan，确保孤儿对象的删除。#总结#cascade 参数在 relationship 中提供了强大的自动级联功能，可以根据需要自动处理与父对象的关系。通过合理配置 cascade，你可以确保在父对象操作（如保存、更新、删除等）时，相关联的子对象能够自动执行相应的操作，从而避免手动管理这些关系，保持数据一致性。```### ForeignKey- `ondelete`: 参数用于指定当外键引用的父表记录被删除时，子表中的相关记录应如何处理    - CASCADE: 默认值，级联删除，即删除父表记录时，子表中的相关记录也会被删除    - SET NULL: 该选项表示当父表记录被删除时，子表中与该父记录关联的外键字段将被设置为 NULL（假设该外键列允许为 NULL）。这样，子表的记录不再关联任何父记录，但仍然存在。    - RESTRICT: 该选项表示禁止删除父记录。如果父记录在子表中仍有引用，删除操作会被拒绝。这确保了父记录在被引用时无法被删除。    - NO ACTION: 该选项表示当父记录被删除时，数据库不执行任何动作（通常由数据库的默认行为决定）。在某些数据库中， NO ACTION 和 RESTRICT 是相似的，表示不自动进行级联删除或设置 NULL 等操作，删除操作被阻止直到外键约束被满足。    - SET DEFAULT: 该选项表示当父记录被删除时，子表中与该父记录关联的外键字段将被设置为默认值。- `onupdate`: 参数用于指定当父表记录被更新时，子表中的相关记录应如何处理。与 ondelete 相似，它也提供了一些选项，