#!/usr/bin/env python# -*- coding:utf-8 -*-# @Time : 2026/1/21# @Author : cyq# @File : context# @Software: PyCharm# @Desc:from dataclasses import dataclassfrom typing import Optional, Unionfrom croe.interface.manager.variable_manager import VariableManagerfrom croe.interface.types import *from croe.interface.starter import APIStarterfrom croe.play.starter import UIStarter@dataclassclass ExecutionContext:    """    执行上下文    """    interface_case: "InterfaceCase"    env: "Env"    case_result: "InterfaceCaseResult"    task_result: "InterfaceTaskResult" = None@dataclassclass CaseStepContext:    """    步骤执行上下文    """    index: int  # 步骤索引    content: "InterfaceCaseContent"  # 步骤内容    execution_context: "ExecutionContext"  # 执行上下文    starter: Union["APIStarter", "UIStarter"]  # 执行人    variable_manager: "VariableManager"  # 变量管理器    @property    def task_result_id(self) -> Optional[int]:        return self.execution_context.task_result.id if self.execution_context.task_result else None    @property    def case_result_id(self) -> int:        return self.execution_context.case_result.id