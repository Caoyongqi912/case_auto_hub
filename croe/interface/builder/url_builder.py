#!/usr/bin/env python# -*- coding:utf-8 -*-# @Time : 2026/1/21# @Author : cyq# @File : url_builder# @Software: PyCharm# @Desc:from typing import Optionalfrom urllib.parse import urlparsefrom croe.interface.types import InterfaceAPI,Envfrom utils import logclass UrlBuilder:    """URL构建器"""    CUSTOM_ENV_ID = 99999    @staticmethod    async def build(interface: "InterfaceAPI", env: Optional["Env"] = None) -> str:        """构建请求URL"""        if interface.env_id == UrlBuilder.CUSTOM_ENV_ID:            log.info(f"使用自定义环境URL: {interface.url}")            return interface.url        # todo 兼容UI        if env is None:            raise ValueError("未提供环境配置")        url = f"{env.url}{interface.url}"        log.info(f"构建请求URL: {url}")        return url    @staticmethod    async def get_custom_url_info(interface: InterfaceAPI) -> tuple[str, str]:        """获取自定义环境的URL信息"""        parse = urlparse(interface.url)        url = parse.path        host = f"{parse.scheme}://{parse.netloc}"        return url, host